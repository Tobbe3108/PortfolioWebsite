@page "/"
@inject NavigationManager NavigationManager
@using PortfolioWebsite.Shared
@using PortfolioWebsite.Client.Components

<CascadingValue Value="state">
    <CascadingValue Value="stateManager">
        @if (state.FirstLoad)
        {
            <Terminal />
        }
        else
        {
            <MainPage />
        }
    </CascadingValue>
</CascadingValue>

@code{
    private PageState state;
    private PageState.Manager stateManager;
    protected override void OnInitialized()
    {
        state = new PageState();
        stateManager = new PageState.Manager(state);
        stateManager.OnStateChanged += StateHasChanged;
    }
}